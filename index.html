<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Orbital Barrage</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="hud hidden" id="hud">
      <div class="hud__row">
        <span>HP: <strong id="hpValue">0</strong></span>
        <span>Shield: <strong id="shieldValue">0</strong></span>
        <span>Energy: <strong id="energyValue">0</strong></span>
      </div>
      <div class="hud__row">
        <span>Score: <strong id="scoreValue">0</strong></span>
        <span>Wave: <strong id="waveValue">0</strong></span>
        <span>High Score: <strong id="highScoreValue">0</strong></span>
      </div>
      <div class="hud__row">
        <span>Quantum Cores: <strong id="quantumCoresValue">0</strong></span>
      </div>
    </div>
    <div class="overlay">
      <div id="quantumCoresDisplay" class="hidden" style="position: absolute; top: 90px; right: 60px; padding: 6px 12px; font-size: 1rem; background: rgba(92, 95, 247, 0.3); border: 1px solid rgba(255, 255, 255, 0.2); color: white; z-index: 1000; pointer-events: none; border-radius: 6px;">Quantum Cores: <strong id="quantumCoresDisplayValue">0</strong></div>
      <button id="hudSettingsButton" class="hidden" style="position: absolute; top: 90px; right: 8px; padding: 6px 10px; font-size: 1rem; background: rgba(92, 95, 247, 0.3); border: 1px solid rgba(255, 255, 255, 0.2); color: white; cursor: pointer; z-index: 1000; pointer-events: auto;" title="Settings">⚙️</button>
      <div id="abilityIcons" class="ability-icons hidden"></div>
      <div class="instructions" id="instructions">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
          <h1 style="margin: 0;">Orbital Barrage</h1>
          <button id="settingsButton" style="margin: 0; padding: 8px 12px; font-size: 1.2rem; background: rgba(92, 95, 247, 0.3); border: 1px solid rgba(255, 255, 255, 0.2);" title="Settings">⚙️</button>
        </div>
        <p>
          WASD/Arrow keys to move. Aim with the mouse, hold left click to fire.
          Each ship has 3 abilities—each costs different energy amounts. Configure ability keys in settings.
          Press <kbd>P</kbd> to pause. Clear waves to choose upgrades, collect power cores (H heal, S shield, R rapid, B
          double-shot), and beat the boss every 5 waves. Earn Quantum Cores to unlock new ships!
        </p>
        <div class="select-group">
          <h3>Difficulty</h3>
          <div class="option-cards">
            <label class="option-card option-card--easy">
              <input
                type="radio"
                name="difficulty"
                value="recruit"
                checked
              />
              <strong>Recruit</strong>
              <span>55% enemy HP · 72% speed · 52% count · 25% more drops</span>
              <span style="color: #5cff7d; font-size: 0.8rem;">Easier for learning</span>
            </label>
            <label class="option-card option-card--medium">
              <input type="radio" name="difficulty" value="veteran" />
              <strong>Veteran</strong>
              <span>80% enemy HP · 88% speed · 80% count · Standard drops</span>
              <span style="color: #ffc857; font-size: 0.8rem;">Balanced challenge</span>
            </label>
            <label class="option-card option-card--hard">
              <input type="radio" name="difficulty" value="nightmare" />
              <strong>Nightmare</strong>
              <span>150% enemy HP · 125% speed · 140% count · 25% fewer drops</span>
              <span style="color: #ff6b6b; font-size: 0.8rem;">Extreme difficulty</span>
            </label>
          </div>
        </div>
        <div class="select-group">
          <h3>Ship Loadout</h3>
          <div class="option-cards">
            <label class="option-card">
              <input
                type="radio"
                name="ship"
                value="striker"
                checked
              />
              <strong>Striker</strong>
              <span>Balanced stats · Omni Burst radial barrage.</span>
            </label>
            <label class="option-card">
              <input type="radio" name="ship" value="phantom" />
              <strong>Phantom</strong>
              <span>High thrust · Blink dash with ghostfire trail.</span>
            </label>
            <label class="option-card">
              <input type="radio" name="ship" value="aegis" />
              <strong>Aegis</strong>
              <span>Tanked hull/shield · Shockwave fortifies & burns foes.</span>
            </label>
          </div>
        </div>
        <div style="display: flex; gap: 12px; justify-content: center; margin-top: 12px;">
          <button id="tutorialButton">Tutorial</button>
          <button id="shopButton">Ship Shop</button>
          <button id="startButton">Start Mission</button>
        </div>
      </div>
      <div class="game-over hidden" id="gameOver">
        <h2 id="gameOverTitle">Mission Failed</h2>
        <p id="gameOverDetails"></p>
        <button id="restartButton">Retry</button>
      </div>
      <div class="boss-bar hidden" id="bossBar">
        <span class="boss-bar__label">BOSS</span>
        <div class="boss-bar__track">
          <div class="boss-bar__fill" id="bossBarFill"></div>
        </div>
      </div>
    </div>
    <div class="upgrade-panel hidden" id="upgradePanel">
      <h3>Choose an Upgrade</h3>
      <p>Each wave cleared grants one permanent enhancement.</p>
      <div class="upgrade-options" id="upgradeOptions"></div>
    </div>
    <div class="ship-shop hidden" id="shipShopPanel">
        <div class="ship-shop__header">
          <h3>Ship Hangar</h3>
          <button class="ship-shop__close" id="shopCloseButton">×</button>
        </div>
        <p class="ship-shop__currency">Quantum Cores: <strong id="shopQuantumCores">0</strong></p>
        <div class="ship-shop__list" id="shipShopList"></div>
      </div>
    </div>
    <div class="tutorial-overlay hidden" id="tutorialOverlay">
      <div class="tutorial-text-top" id="tutorialTextTop">
        <span id="tutorialTextTopContent"></span>
      </div>
      <button id="tutorialSkipButton" class="tutorial-button tutorial-button--secondary" style="position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); z-index: 2001;">Skip Tutorial</button>
    </div>
    <div class="settings-panel hidden" id="settingsPanel">
      <div class="settings-panel__header">
        <h3>Settings</h3>
        <button class="settings-panel__close" id="settingsCloseButton">×</button>
      </div>
      <div class="settings-content">
        <div class="ship-loadout-section">
          <h4>Ship Loadout</h4>
          <div class="ship-loadout-card" id="shipLoadoutCard">
            <div class="ship-loadout__name" id="shipLoadoutName">-</div>
            <div class="ship-loadout__abilities" id="shipLoadoutAbilities">
              <div class="ship-loadout__ability">No ship selected</div>
            </div>
          </div>
        </div>
        <h4>Ability Key Bindings</h4>
        <div class="key-binding-presets">
          <button class="preset-button" id="presetNumbers">Preset: 1, 2, 3</button>
          <button class="preset-button" id="presetMouse">Preset: LM, MM, RM</button>
        </div>
        <div class="key-binding-custom">
          <h5>Custom Bindings</h5>
          <div class="key-binding-item">
            <label>Ability 1:</label>
            <button class="key-binding-button" id="keyBinding1" data-ability="0">Click to set</button>
          </div>
          <div class="key-binding-item">
            <label>Ability 2:</label>
            <button class="key-binding-button" id="keyBinding2" data-ability="1">Click to set</button>
          </div>
          <div class="key-binding-item">
            <label>Ability 3:</label>
            <button class="key-binding-button" id="keyBinding3" data-ability="2">Click to set</button>
          </div>
        </div>
      </div>
    </div>
    <canvas id="gameCanvas" width="960" height="600"></canvas>
    <script src="./game.js"></script>
  </body>
</html>

